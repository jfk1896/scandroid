// on-load initializations
jQuery(document).ready(function(){
    
    // initialize the tabbed display
	$('#main').tabs();
	
	// animate opacity on the control bar
	$('#control_bar').hover(
		function(){	$(this).fadeTo('fast', 1); },
		function(){ $(this).fadeTo('fast', 0.75); }
	);

    // bind events - Points of Interest
    $('a.poi_ok').click(function(){ wt.poi.mark(event.target, "ok"); });
    $('a.poi_dubious').click(function(){ wt.poi.mark(event.target, "dubious"); });
    $('a.poi_bad').click(function(){ wt.poi.mark(event.target, "bad"); });
    $('a.poi_hide').click(function(){ wt.poi.hide_content(event.target); });
    
    // local storage
    if(typeof(Storage) !== 'undefined'){
        console.log('Local storage is available!');
        console.log('Saving to key: <%= $watchtower_storage %>');
        wt.data_store.load();
    } else {
        // warn the user that work will not be saved
        console.log('Local storage is not available.');
        $('p.warning#no_storage').fadeIn();
    }

});

